<link rel="import" href="../../bower_components/polymer/polymer.html">


<!--

The `nfcmim-bluetooth` provides  

@group nfcmim-bluetooth Elements
@element nfcmim-bluetooth
@demo demo/index.html
-->

<dom-module id="nfcmim-bluetooth">

    <style>
        :host {
            display: block;
        }
    </style>
    <template>
        <nfcmim-bluetooth-discovery id="discovery" on-discovery="handleDiscovery"></nfcmim-bluetooth-discovery>
        <nfcmim-bluetooth-client id="client" on-message="handleMessage"></nfcmim-bluetooth-client>

        <nfcmim-bluetooth-service id="service" on-message="handleMessage"></nfcmim-bluetooth-service>
    </template>
</dom-module>

<script>
    (function () {
        'use strict';

        Polymer({
            is: 'nfcmim-bluetooth',

            properties: {},

            startDiscovery: function() {
                this.$.discovery.startDiscovery();
            },
            handleDiscovery: function (event) {
                var detail = event.detail;
                var address = detail.address;
                this.$.client.connectToDevice(address);
            },
            handleMessage: function (event) {
                var detail = event.detail;

            }

        });
    })();
</script>